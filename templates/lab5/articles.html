{% extends "base.html" %}
{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 5{% endblock %}
{% block main %}
<link rel="stylesheet" href="{{ url_for('static', filename='lab5/lab5.css') }}">

<div class="lab5-container">
    <h1>{% if login %}–ú–æ–∏ —Å—Ç–∞—Ç—å–∏{% else %}–ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏{% endif %}</h1>

    {% if not articles %}
        <div class="no-articles">
            <p>{% if login %}–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏.{% else %}–ü—É–±–ª–∏—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç.{% endif %}</p>
            {% if login %}
            <a href="{{ url_for('lab5.create_article') }}" class="btn">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é —Å—Ç–∞—Ç—å—é</a>
            {% endif %}
        </div>
    {% else %}
        <div class="articles-list">
            {% for article in articles %}
            <div class="article-card {% if article['is_favorite'] %}favorite{% endif %}">
                <div class="article-header">
                    <h2>
                        {{ article['title'] }}
                        {% if article['is_favorite'] %} ‚≠ê{% endif %}
                        {% if article['is_public'] %} üåê{% endif %}
                    </h2>
                    {% if login and user_id and article['user_id'] == user_id %}
                    <div class="article-actions">
                        <a href="{{ url_for('lab5.edit_article', article_id=article['id']) }}" class="btn-edit">‚úèÔ∏è</a>
                        <a href="{{ url_for('lab5.delete_article', article_id=article['id']) }}" class="btn-delete" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç—å—é?')">üóëÔ∏è</a>
                    </div>
                    {% endif %}
                </div>
                <div class="article-content">
                    {{ article['article_text'] }}
                </div>
            </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
